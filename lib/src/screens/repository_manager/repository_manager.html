<h1>Repository Manager</h1>

<div class="subscribe-new">
    <h2>Subscribe</h2>
    <p>Enter here:</p>
    <ul>
        <li>the URL to a repository YAML file, or</li>
        <li>the repository identifier from a stage URL</li> <!-- TODO maybe just a stage URL -->
    </ul>
    <label for="subscribe-input">Repository</label>
    <input #subscribeInput
           id="subscribe-input"
           (input)="findRepositoryController.add(subscribeInput.value)">
    <div *ngIf="subscribeTo != null">
        <span [innerHTML]="subscribeTo.name"></span>
        <button *ngIf="canSubscribe"
                (click)="subscribe(subscribeInput)">Subscribe</button>
        <p *ngIf="!canSubscribe">Already subscribed.</p>
    </div>
</div>

<div class="manage-existing">
    <h2>Manage Subscriptions</h2>
    <table>
        <template ngFor let-repository [ngForOf]="subscriptions" let-i="index">
            <tr *ngIf="repository != null"
                [style.color]="repository.headerColor"
                [style.background-color]="repository.headerBackgroundColor"
                [style.border-color]="repository.bordersColor">
                <td [innerHTML]="repository.name"></td>
                <td><button (click)="unsubscribe(i)">Unsubscribe</button></td>
            </tr>
        </template>
    </table>
</div>
